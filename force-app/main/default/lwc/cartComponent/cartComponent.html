<template>
    <div class="slds-var-m-bottom_small">
        <h1>Cart</h1> 
    </div>

    <div class="cart"> 
        <template if:true={cartItems.length}>
            <ul>
                <template for:each={cartItemsWithSubtotal} for:item="item">
                    <li key={item.id} class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_2-of-3">
                            <img src={item.imageUrl} alt={item.name} class="cart-product-image" style="height: 100px;width:150px">
                        </div>
                        <div class="slds-col slds-size_1-of-3">
                            <div class="slds-var-m-bottom_small">{item.name}</div>
                            <div class="slds-var-m-bottom_small">Price: {item.price}</div>
                            <div class="slds-var-m-bottom_small">Quantity: {item.quantity}</div>
                            <div>Subtotal: {item.subtotal}</div>
                        </div>
                    </li>
                    <li key={item.id} class="separator"></li>
                </template>
            </ul>
            <div class="slds-text-heading_medium slds-var-m-bottom_small slds-text-align_center">Total: {calculateTotal}</div>
            <div class="slds-text-align_center">
                <lightning-button label="Submit" onclick={handleSubmit}></lightning-button>
            </div>
        </template>
        <template if:false={cartItems.length}>
            <div class="slds-text-align_center">Your cart is empty</div>
        </template>
    </div>
</template>
